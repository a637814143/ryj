# 教师模块功能说明

## 🎯 概述

本教师模块采用**苹果级美工设计**，提供完整的教师工作台功能，包括学生管理、档案审核、指导记录和统计分析。

---

## ✨ 设计特点

### 苹果级美工元素

1. **毛玻璃效果导航栏**
   - 使用 `backdrop-filter: blur(20px)` 实现类似 macOS/iOS 的毛玻璃效果
   - 半透明背景 `rgba(255, 255, 255, 0.85)` 增强层次感
   - 饱和度调整 `saturate(180%)` 增强色彩

2. **流畅的动画过渡**
   - 使用 `cubic-bezier(0.4, 0, 0.2, 1)` 缓动函数（Apple 标准曲线）
   - 按钮悬停时有微妙的上移和阴影变化
   - 卡片交互采用平滑的过渡效果

3. **渐变色设计**
   - 蓝紫色系渐变：`linear-gradient(135deg, #2563eb, #7c3aed)`
   - 背景使用多层径向渐变营造深度
   - 活跃状态有底部下划线指示器

4. **现代化圆角**
   - 按钮圆角：12-14px
   - 卡片圆角：16-24px
   - 输入框圆角：12px

5. **精致阴影系统**
   - 卡片阴影：`0 4px 12px rgba(0, 0, 0, 0.08)`
   - 悬停阴影：`0 8px 20px rgba(0, 0, 0, 0.12)`
   - 按钮阴影：带有色彩的阴影增强品牌感

---

## 🚀 功能模块

### 1. 教师仪表板 (`/teacher/overview`)

**核心功能：**
- 📊 总览统计（结对学生数、待审核档案、活跃面试、校企协同）
- ✅ 档案审核队列（批准/拒绝学生档案更新申请）
- 👨‍🎓 结对学生跟进（查看学生就业状态、申请进度、面试情况）
- 🤝 校企协同概览（了解合作企业互动情况）
- 📝 最新指导纪要（快速回顾指导要点）
- 📈 就业动向速览（跟踪学生投递与录用动态）

**API 接口：**
```typescript
GET /api/teachers/by-user/{userId}          // 获取教师信息
GET /api/teachers/{teacherId}/dashboard     // 获取仪表板数据
PUT /api/teachers/{teacherId}/requests/{requestId}/approve  // 批准档案
PUT /api/teachers/{teacherId}/requests/{requestId}/reject   // 拒绝档案
```

---

### 2. 指导记录管理 (`/teacher/guidance`)

**核心功能：**
- ➕ 添加指导记录（选择学生、填写指导内容）
- 📋 查看历史记录（时间倒序显示）
- 🗑️ 删除记录
- 🔍 按教师或学生筛选
- 📱 响应式卡片设计

**API 接口：**
```typescript
POST   /api/teacher-guidance              // 创建指导记录
GET    /api/teacher-guidance              // 分页查询（支持筛选）
PUT    /api/teacher-guidance/{id}         // 更新指导记录
DELETE /api/teacher-guidance/{id}         // 删除指导记录
POST   /api/teacher-guidance/batch        // 批量添加
```

**数据模型：**
```typescript
{
  teacherId: number,
  studentId: number,
  note: string,
  createdAt: DateTime
}
```

---

### 3. 就业统计分析 (`/teacher/statistics`)

**核心功能：**
- 📊 **总览统计**
  - 总学生数、已就业数、求职中、未开始
  - 就业率、申请总数、面试总数、Offer数

- 🏢 **公司分布（Top 10）**
  - 横向柱状图展示各公司就业人数
  - 百分比显示
  - 显示前10个公司

- 🌍 **地区分布**
  - 网格卡片展示各地区就业情况

- 💰 **薪资分布**
  - 柱状图：<5k, 5-8k, 8-12k, 12-20k, >20k
  - 平均薪资、中位数薪资
  - 智能解析薪资范围字符串（如 "8k-12k", "10000-15000"）

- 🎓 **专业就业率**
  - 按专业统计就业率
  - 进度条可视化

- 📅 **月度趋势**
  - 申请数、面试数、Offer数按月统计
  - 表格展示

**API 接口：**
```typescript
GET /api/teachers/{teacherId}/statistics/employment?scope={guided|all}
```

**统计范围：**
- `guided`: 仅统计结对学生
- `all`: 统计所有学生

---

## 🎨 UI/UX 设计亮点

### 1. 固定顶部导航
- 始终可见的导航栏（56px 高度）
- 三个主要页面快速切换
- 活跃状态有视觉反馈

### 2. 空状态设计
- 使用表情符号和友好的文案
- 引导用户进行下一步操作

### 3. 加载状态
- 旋转加载动画
- 清晰的加载提示文案

### 4. 消息反馈
- 成功/错误消息自动消失（3秒）
- 绿色/红色背景区分类型
- 半透明背景保持页面可见性

### 5. 模态对话框
- 模糊背景（backdrop-filter）
- 点击外部关闭
- 表单验证提示

### 6. 响应式设计
- 移动端友好的布局调整
- 网格自动适配屏幕宽度

---

## 📦 后端架构

### Controller 层
- `TeacherController` - 教师基本信息、仪表板、档案审核
- `TeacherGuidanceController` - 指导记录 CRUD
- `TeacherStatisticsController` - 统计数据查询

### Service 层
- `TeacherService` - 教师业务逻辑
- `TeacherGuidanceService` - 指导记录服务
- `TeacherStatisticsService` - 统计分析服务

### DTO 对象
- `TeacherDashboardResponse` - 仪表板数据传输
- `EmploymentStatisticsDto` - 就业统计数据

### 数据库表
- `teacher` - 教师基本信息
- `teacher_guidance` - 指导记录
- `student_profile_update_request` - 学生档案更新请求

---

## 🔐 权限控制

所有教师模块路由都需要：
- 用户已登录
- 用户角色为 `TEACHER`

路由守卫自动检查并拦截未授权访问。

---

## 🎯 使用流程

### 教师登录后
1. 默认进入 **仪表板** (`/teacher/overview`)
2. 查看待审核档案，点击"通过申请"或"退回修改"
3. 浏览结对学生的就业进度
4. 点击导航栏进入 **指导记录** 页面添加指导内容
5. 点击导航栏进入 **统计分析** 查看整体就业情况

### 添加指导记录
1. 点击"+ 添加指导记录"按钮
2. 选择学生
3. 填写指导内容
4. 提交保存

### 查看统计数据
1. 选择统计范围（结对学生/全部学生）
2. 查看各项统计图表
3. 分析就业趋势

---

## 🛠️ 技术栈

### 前端
- **Vue 3** + TypeScript
- **Vue Router** - 路由管理
- **原生 CSS** - 样式（无框架依赖）
- **Fetch API** - 数据请求

### 后端
- **Spring Boot** - 应用框架
- **MyBatis-Plus** - ORM 框架
- **MySQL** - 数据库
- **Lombok** - 减少样板代码

---

## 📱 响应式适配

### 桌面端 (>768px)
- 多列网格布局
- 完整的导航栏
- 大卡片展示

### 移动端 (≤768px)
- 单列布局
- 紧凑的导航栏
- 堆叠卡片

---

## 🔧 数据库适配说明

由于数据库表结构限制，统计分析功能做了以下适配：

1. **行业分布 → 公司分布**
   - 原因：`employer` 表没有 `industry` 字段
   - 解决：改为统计就业公司分布（更直观实用）

2. **薪资统计**
   - 原因：`job_posting` 表只有 `salary_range` 字符串字段
   - 解决：智能解析薪资范围字符串
   - 支持格式：
     - "8k-12k"
     - "8000-12000"  
     - "10000"

## 🚀 后续优化建议

1. **数据库优化**
   - 为 `employer` 表添加 `industry` 字段（行业）
   - 为 `job_posting` 表添加 `salary_min` 和 `salary_max` 数值字段

2. **数据可视化增强**
   - 引入 ECharts 或 Chart.js
   - 添加交互式图表

3. **导出功能**
   - 统计报表导出为 PDF/Excel
   - 指导记录批量导出

4. **实时通知**
   - WebSocket 推送新的档案审核请求
   - 学生就业状态变化通知

5. **搜索功能**
   - 全局搜索学生
   - 指导记录内容搜索

6. **批量操作**
   - 批量审核档案
   - 批量添加指导记录

---

## 📝 测试账号

**教师账号：**
- 用户名: `teacher_liu` - 刘畅（计算机科学与技术学院）
- 用户名: `teacher_wang` - 王璐（软件工程学院）
- 用户名: `teacher_zhao` - 赵楠（信息管理学院）
- 用户名: `teacher_zhang` - 张晓玲（计算机学院）
- 密码: 所有账号密码均为 `000000`

---

## 💡 设计灵感来源

- macOS Big Sur 的毛玻璃设计
- iOS 界面的圆角和阴影
- Apple Human Interface Guidelines
- Material Design 3 的色彩系统

---

**开发完成时间**: 2025年10月

**版本**: v1.0.0

